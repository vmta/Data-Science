1
00:00:12,265 --> 00:00:19,260
Переходим к формальным
тестам на автокорреляцию.

2
00:00:19,260 --> 00:00:27,064
Два самых популярных теста – это тест
Дарбина-Уотсона и тест Бройша-Годфри.

3
00:00:27,064 --> 00:00:31,630
Проведем тест Дарбина-Уотсона
для нашей модели.

4
00:00:35,810 --> 00:00:43,420
Это очень просто: # Durbin-Watson.

5
00:00:43,420 --> 00:00:48,506
Я напомню, что нулевой гипотезой
данного теста является гипотеза

6
00:00:48,506 --> 00:00:55,830
об отсутствии автокорреляции,
альтернативной

7
00:00:55,830 --> 00:01:01,650
гипотезой (Ha) является гипотеза об

8
00:01:01,650 --> 00:01:07,308
автокорреляции первого порядка,

9
00:01:07,308 --> 00:01:12,877
то есть, в принципе,
тест может не почувствовать автокорреляцию

10
00:01:12,877 --> 00:01:16,580
более высокого порядка, но может и
почувствовать, тут у нас нет гарантий.

11
00:01:16,580 --> 00:01:21,650
Проводим тест, dwt(model).

12
00:01:21,650 --> 00:01:29,961
Мы видим, что в нашем случае
статистика Дарбина-Уотсона равна 1.32,

13
00:01:29,961 --> 00:01:35,002
p-value равно 0.03, и, соответственно,

14
00:01:35,002 --> 00:01:39,921
можем посмотреть на результаты

15
00:01:39,921 --> 00:01:44,970
данного теста dwt(model).

16
00:01:44,970 --> 00:01:48,935
Из результатов, например,

17
00:01:48,935 --> 00:01:54,459
можно вытащить значение
статистики Дарбина-Уотсона и,

18
00:01:54,459 --> 00:01:58,900
например, из результатов можно вытащить

19
00:01:58,900 --> 00:02:04,635
p-value.

20
00:02:04,635 --> 00:02:10,370
p-value могут чуть-чуть отличаться,
потому что получаются путем симуляции.

21
00:02:10,370 --> 00:02:14,894
Например, можно также из полезных

22
00:02:14,894 --> 00:02:19,163
вещей вытащить оценку корреляции остатков,

23
00:02:19,163 --> 00:02:23,420
то есть параметр этой
автокорреляции первого порядка,

24
00:02:23,420 --> 00:02:29,131
и он равен 0.22, то есть корреляция
между сегодняшним остатком и вчерашним,

25
00:02:29,131 --> 00:02:33,176
ее оценка равна 0,22.

26
00:02:33,176 --> 00:02:40,320
Еще один распространенный тест на
автокорреляцию – это тест Бройша-Годфри.

27
00:02:40,320 --> 00:02:45,095
В этом тесте также нулевой гипотезой

28
00:02:45,095 --> 00:02:49,870
является гипотеза об
отсутствии автокорреляции,

29
00:02:49,870 --> 00:02:54,913
однако альтернативной гипотезой

30
00:02:54,913 --> 00:02:59,274
этот тест допускает автокорреляцию
любого более высокого порядка, чем 1,

31
00:02:59,274 --> 00:03:04,363
мы можем задать фиксированный порядок,
скажем, сказать,

32
00:03:04,363 --> 00:03:11,710
что это автокорреляция

33
00:03:11,710 --> 00:03:17,980
k-го порядка.

34
00:03:17,980 --> 00:03:23,787
Соответственно, это будет bgtest

35
00:03:23,787 --> 00:03:28,791
от нашей модели, и, соответственно,

36
00:03:28,791 --> 00:03:33,449
здесь мы должны указать порядок
максимальной автокорреляции, например,

37
00:03:33,449 --> 00:03:40,540
проверим возможность наличия в наших
остатках автокорреляции второго порядка.

38
00:03:40,540 --> 00:03:46,331
И в нашем случае,

39
00:03:46,331 --> 00:03:51,682
если выбрать уровень значимости 5%,
то мы видим,

40
00:03:51,682 --> 00:03:57,670
что значение,
точное p-значение оказалось равно 0.013,

41
00:03:57,670 --> 00:04:03,063
то есть в данном случае гипотеза H_0 о том,
что нет автокорреляции,

42
00:04:03,063 --> 00:04:06,920
против гипотезы о том,
что есть автокорреляция второго порядка,

43
00:04:06,920 --> 00:04:12,080
эта гипотеза в данном
примере не отвергается,

44
00:04:12,080 --> 00:04:15,012
то есть мы попали в такую ситуацию,

45
00:04:15,012 --> 00:04:19,820
которая некоторых пугает,
хотя на самом деле не должна.

46
00:04:19,820 --> 00:04:24,738
Если один тест отверг H_0,
вот здесь результатом

47
00:04:24,738 --> 00:04:29,790
теста было отвержение H_0,

48
00:04:29,790 --> 00:04:34,198
а тест Бройша-Годфри у
нас H0 не отвергнул.

49
00:04:34,198 --> 00:04:35,923
Что делать в таком случае?

50
00:04:35,923 --> 00:04:38,691
Ответ очень простой: гипотеза отвергается.

51
00:04:38,691 --> 00:04:39,250
Почему?

52
00:04:39,250 --> 00:04:42,148
Потому что что означает фраза
«гипотеза не отвергается»?

53
00:04:42,148 --> 00:04:44,997
Это означает: не хватило данных,
чтобы ее отвергнуть.

54
00:04:44,997 --> 00:04:48,960
Соответственно, одному тесту хватило
данных, чтобы отвергнуть H_0,

55
00:04:48,960 --> 00:04:51,856
поэтому вывод: H_0 отвергается.

56
00:04:51,856 --> 00:04:56,880
Таким образом,
в наших данных имеет место автокорреляция.

57
00:04:56,880 --> 00:05:00,425
В нашем случае было логично
ожидать появления автокорреляции,

58
00:05:00,425 --> 00:05:04,011
потому что наши данные являются
временным рядом и вполне логично,

59
00:05:04,011 --> 00:05:07,981
что сегодняшнее значение
показателя связано со вчерашним.

60
00:05:07,981 --> 00:05:10,730
Как в случае любого теста,

61
00:05:10,730 --> 00:05:15,030
с тестом Бройша-Годфри всегда
можно дотянуться до результатов,

62
00:05:15,030 --> 00:05:20,640
то есть можно поместить результаты

63
00:05:20,640 --> 00:05:25,378
оценивания теста Бройша-Годфри в

64
00:05:25,378 --> 00:05:30,480
список res и вытащить из этого списка res

65
00:05:30,480 --> 00:05:35,826
интересующие нас показатели, ну,
например, саму статистику теста,

66
00:05:35,826 --> 00:05:41,081
3.94, можно вытащить оцененные p-value,
0.13.

67
00:05:41,081 --> 00:05:47,650
В этом смысле тест Бройша-Годфри,
его реализация не отличается от остальных.

