1
00:00:12,095 --> 00:00:17,287
Перейдём к оценке моделей

2
00:00:17,287 --> 00:00:21,293
методом наименьших квадратов.

3
00:00:21,293 --> 00:00:26,978
Оценим model_0, это будет совсем простая
модель, мы будем оценивать ее по,

4
00:00:26,978 --> 00:00:33,626
соответственно, данным по стоимости
квартир в Москве, и здесь мы предположим,

5
00:00:33,626 --> 00:00:39,494
что логарифм цены квартиры зависит
только от логарифма общей площади.

6
00:00:39,494 --> 00:00:41,120
Это будет модель 1.

7
00:00:41,120 --> 00:00:45,715
В модель 2...

8
00:00:45,715 --> 00:00:50,310
Вернее, это будет model_0,
а model_1 — это будет линейная модель,

9
00:00:50,310 --> 00:00:55,259
данные мы возьмём из того же
набора данных f, и здесь логарифм

10
00:00:55,259 --> 00:01:00,018
цены квартиры будет объясняться уже
двумя объясняющими переменными,

11
00:01:00,018 --> 00:01:03,886
двумя регрессорами: логарифмом
общей площади квартиры,

12
00:01:03,886 --> 00:01:07,590
а также переменной,
которая отвечает за кирпичность.

13
00:01:07,590 --> 00:01:10,255
Это будет первая модель.

14
00:01:10,255 --> 00:01:13,530
И у нас ещё будет вторая модель.

15
00:01:13,530 --> 00:01:16,040
Давайте её опишем.

16
00:01:16,040 --> 00:01:21,050
Это будет модель,
она будет тоже оцениваться на

17
00:01:21,050 --> 00:01:26,086
основе набора данных f; зависимая
переменная так же будет логарифм

18
00:01:26,086 --> 00:01:31,951
цены квартиры; объясняющей будет логарифм
общей площади; также объяснять будет

19
00:01:31,951 --> 00:01:36,230
кирпичность — тоже регрессор, который
равен единичке, если кирпичный дом,

20
00:01:36,230 --> 00:01:41,331
ноль — если не кирпичный; и плюс ещё будет
одна переменная, которую мы запишем таким

21
00:01:41,331 --> 00:01:47,790
особым синтаксисом: brick:

22
00:01:47,790 --> 00:01:55,790
log(totsp).

23
00:01:55,790 --> 00:02:00,480
Соответственно, оцениваем модель и
сейчас скажем, что она означает.

24
00:02:00,480 --> 00:02:04,168
Это модель, в которую вошли три
объясняющих переменных: логарифм общей

25
00:02:04,168 --> 00:02:08,032
площади квартиры, переменная, которая
равна единичке или нулю в зависимости от

26
00:02:08,032 --> 00:02:13,100
того, кирпичный дом или нет,
и переменная, которая равна произведению

27
00:02:13,100 --> 00:02:18,032
кирпичности дома помножить на
логарифм общей площади, то есть эта

28
00:02:18,032 --> 00:02:22,920
переменная — она равна нулю, ну когда
умножаем ноль на неважно какое число,

29
00:02:22,920 --> 00:02:26,160
мы получаем ноль, поэтому эта переменная
равна нулю для некирпичных домов,

30
00:02:26,160 --> 00:02:32,354
и эта переменная равна логарифму
общей площади для кирпичных домов.

31
00:02:32,354 --> 00:02:37,670
То есть можно посмотреть
описание каждой модели.

32
00:02:37,670 --> 00:02:43,140
Ну, например, мы можем набрать
классическое summary(model_0).

33
00:02:43,140 --> 00:02:46,700
И здесь у нас видно,

34
00:02:46,700 --> 00:02:51,092
что все коэффициенты значимы,
везде p-value меньше 5 %.

35
00:02:51,092 --> 00:02:59,270
Можно посмотреть более красивый отчёт с
помощью функции mtable, скажем, model_2.

36
00:02:59,270 --> 00:03:04,974
Вот и здесь у нас данные
представлены немножко в другом виде,

37
00:03:04,974 --> 00:03:06,219
но то же самое — табличка.

38
00:03:06,219 --> 00:03:08,400
Коэффициент, в скобках стандартная ошибка.

39
00:03:08,400 --> 00:03:11,955
И видно здесь: коэффициент при,
свободный член значим,

40
00:03:11,955 --> 00:03:16,975
коэффициент при логарифме общей площади
значим, коэффициент при переменной

41
00:03:16,975 --> 00:03:23,448
brick не значим и коэффициент при новой
искусственной переменной тоже значим.

42
00:03:23,448 --> 00:03:27,099
Почему вот здесь я не написал умножить?

43
00:03:27,099 --> 00:03:28,736
Это очень хороший вопрос.

44
00:03:28,736 --> 00:03:35,470
Оказывается, у R значки «+»,
«*» и «:» внутри формулы,

45
00:03:35,470 --> 00:03:42,232
они имеют свой особый смысл, а именно,
например, значок «*» означает следующее.

46
00:03:42,232 --> 00:03:44,540
Давайте я оценю model_2b.

47
00:03:44,540 --> 00:03:47,900
Я оценю её по тому же набору данных.

48
00:03:47,900 --> 00:03:53,090
Опять же логарифм цены будет зависеть,
— а здесь я напишу brick

49
00:03:53,090 --> 00:03:57,650
помножить на логарифм общей площади.

50
00:03:57,650 --> 00:04:02,240
Вот это «*» — это не умножение в
буквальном алгебраическом смысле,

51
00:04:02,240 --> 00:04:07,399
это умножение в таком формульном смысле,
это означает, что надо взять все

52
00:04:07,399 --> 00:04:12,658
переменные, которые проще, чем brick,
помноженный на логарифм общей площади.

53
00:04:12,658 --> 00:04:16,745
То есть если вот так написать,
то компьютер автоматом включит сразу три

54
00:04:16,745 --> 00:04:21,403
переменных: он включит переменную brick,
которая равна единичке или нулю в

55
00:04:21,403 --> 00:04:24,800
зависимости от типа дома,
переменную log(totsp),

56
00:04:24,800 --> 00:04:29,590
которая равна логарифму общей площади, и
переменную, которая равна их произведению.

57
00:04:29,590 --> 00:04:34,010
То есть на самом деле вот эта model_2b,
она полностью эквивалентна model_2,

58
00:04:34,010 --> 00:04:36,427
просто более компактная запись.

59
00:04:36,427 --> 00:04:41,413
То есть в R, когда мы пишем формулы,
то значок умножения означает все

60
00:04:41,413 --> 00:04:45,735
коэффициенты, которые,
у которых степени ниже,

61
00:04:45,735 --> 00:04:49,660
чем brick помножить на log(totsp),
то есть все коэффициенты проще этого.

62
00:04:49,660 --> 00:04:54,813
Соответственно, можно, например,

63
00:04:54,813 --> 00:05:00,647
посмотреть в одной табличке
на model_2 и model_2b

64
00:05:00,647 --> 00:05:05,712
и увидеть,
что это абсолютно одна и та же модель,

65
00:05:05,712 --> 00:05:10,080
но просто немножко по-разному
названы коэффициенты,

66
00:05:10,080 --> 00:05:13,951
и поэтому функция mtable так
сразу автоматом не распознаёт,

67
00:05:13,951 --> 00:05:19,494
что на самом деле вот этот коэффициент
и вот этот — это одно и то же.

68
00:05:19,494 --> 00:05:23,551
А так по-хорошему — одна и та же модель.

69
00:05:23,551 --> 00:05:27,809
Тут раз, два, три, четыре коэффициента
оценивается, и тут раз, два, три,

70
00:05:27,809 --> 00:05:29,760
четыре коэффициента оценивается.

71
00:05:29,760 --> 00:05:37,190
Точно так же мы можем визуализировать
результаты какой-нибудь одной из моделей.

72
00:05:37,190 --> 00:05:38,835
Например, sjp.lm.

73
00:05:38,835 --> 00:05:44,120
И посмотрим на model_2,
визуальное представление коэффициентов.

74
00:05:44,120 --> 00:05:48,878
Вот здесь по графику мы видим,

75
00:05:48,878 --> 00:05:52,352
что все коэффициенты,
кроме коэффициента при brick, значимы.

76
00:05:52,352 --> 00:05:56,500
То есть этот коэффициент значимый, у него
доверительный интервал не пересекает ноль.

77
00:05:56,500 --> 00:06:00,514
Этот коэффициент значим,
но так на границе уже значимости,

78
00:06:00,514 --> 00:06:02,430
ноль чуть-чуть не пересекает.

79
00:06:02,430 --> 00:06:07,227
И последний коэффициент при brick хотя и
не значим, но тоже на границе значимости,

80
00:06:07,227 --> 00:06:10,639
краешком доверительного
интервала пересекает ноль.

81
00:06:10,639 --> 00:06:14,289
То есть, в принципе,
все коэффициенты можно считать,

82
00:06:14,289 --> 00:06:17,275
поскольку есть теоретические
основания считать,

83
00:06:17,275 --> 00:06:22,037
что стоимость квартиры зависит от
кирпичности дома, от общей площади,

84
00:06:22,037 --> 00:06:26,360
то поэтому есть основания считать,
что этот коэффициент не равен нулю.

85
00:06:26,360 --> 00:06:31,340
И, соответственно,
давайте посмотрим и руками выпишем,

86
00:06:31,340 --> 00:06:36,858
что означает каждая
модель в плане уравнений

87
00:06:36,858 --> 00:06:41,690
для каждой из частей выборки, для
кирпичных домов и для не кирпичных домов.

88
00:06:41,690 --> 00:06:46,110
Проинтерпретируем результаты,
которые нам выдал R.

89
00:06:46,110 --> 00:06:49,744
У нас есть три модели.

90
00:06:49,744 --> 00:06:53,445
Модель 0, что говорит модель 0?

91
00:06:53,445 --> 00:06:56,571
Уравнение выглядит следующим образом,

92
00:06:56,571 --> 00:07:01,750
что логарифм цены квартиры равен

93
00:07:01,750 --> 00:07:06,460
минус 0.77

94
00:07:06,460 --> 00:07:11,344
плюс 1.3 умножить

95
00:07:11,344 --> 00:07:16,317
на логарифм общей площади квартиры.

96
00:07:16,317 --> 00:07:22,980
Соответственно, эта модель, она не
отличает кирпичный и не кирпичные дома.

97
00:07:22,980 --> 00:07:29,170
У нас одна и та же модель
для домов обоих типов.

98
00:07:29,170 --> 00:07:30,332
Модель 1.

99
00:07:30,332 --> 00:07:35,764
Её оценённое уравнение
выглядит как логарифм

100
00:07:35,764 --> 00:07:41,263
цены квартиры i-тый равняется

101
00:07:41,263 --> 00:07:45,521
минус 0.65 плюс 1.26

102
00:07:45,521 --> 00:07:50,180
умножить на логарифм общей площади

103
00:07:50,180 --> 00:07:55,260
плюс 0.13 умножить на

104
00:07:55,260 --> 00:08:00,340
дамми-переменную brick, которая равна
единичке для кирпичных домов и ноль иначе.

105
00:08:00,340 --> 00:08:05,941
Соответственно, модель1 — она
выдаёт нам разные зависимости

106
00:08:05,941 --> 00:08:10,996
для кирпичных домов и для не кирпичных,
а именно: хотя это уравнение одно

107
00:08:10,996 --> 00:08:16,557
оценивается по всему набору данных,
но на самом деле оно означает,

108
00:08:16,557 --> 00:08:22,755
что для кирпичных домов и для
не кирпичных модель разная.

109
00:08:22,755 --> 00:08:28,781
Для кирпичных модель 1 говорит,
что логарифм цены квартиры равен...

110
00:08:28,781 --> 00:08:33,090
Для кирпичных домов переменная
brick равна единичке,

111
00:08:33,090 --> 00:08:38,490
поэтому вместо brick можно подставить
единичку, ну 0.13 сложится с минус

112
00:08:38,490 --> 00:08:43,730
0,65 и получится минус 0.52,

113
00:08:43,730 --> 00:08:52,032
плюс 1.26 на логарифм общей площади.

114
00:08:52,032 --> 00:08:56,789
А для не кирпичных переменная
brick равна нулю и,

115
00:08:56,789 --> 00:09:02,139
соответственно, логарифм
цены квартиры равен

116
00:09:02,139 --> 00:09:07,531
минус 0.65 плюс 1.26 на

117
00:09:07,531 --> 00:09:13,880
логарифм общей площади.

118
00:09:13,880 --> 00:09:16,968
Соответственно, мы видим,

119
00:09:16,968 --> 00:09:22,098
что при одинаковой общей
площади логарифм цены

120
00:09:22,098 --> 00:09:27,614
квартиры в кирпичном доме выше,
потому что здесь минус 0.52,

121
00:09:27,614 --> 00:09:32,503
а здесь минус 0.65, — выше,
чем логарифм цены в не кирпичном доме.

122
00:09:32,503 --> 00:09:38,014
Можно даже оценить численно во сколько,
чему равна эта разница.

123
00:09:38,014 --> 00:09:43,513
Соответственно, если я перейду
к цене квартиры, то цена,

124
00:09:43,513 --> 00:09:47,898
она равна экспоненте от

125
00:09:47,898 --> 00:09:53,022
логарифма цены и,

126
00:09:53,022 --> 00:09:58,370
соответственно, при возведении в степень,
при экспоненцировании,

127
00:09:58,370 --> 00:10:02,470
при экспоненцировании у меня
сложение превратится в умножение.

128
00:10:02,470 --> 00:10:05,870
И, следовательно, я буду получать, что.

129
00:10:05,870 --> 00:10:11,322
При прочих равных,
отношение цены в кирпичном

130
00:10:11,322 --> 00:10:17,140
доме к цене в не кирпичном

131
00:10:17,140 --> 00:10:22,620
доме при одинаковом объеме жилой площади

132
00:10:22,620 --> 00:10:28,750
это равняется экспонента от 0.13.

133
00:10:28,750 --> 00:10:34,620
Ну, соответственно,
это число больше единички.

134
00:10:34,620 --> 00:10:39,212
Что говорит модель 2?

135
00:10:39,212 --> 00:10:41,510
Модель 2.

136
00:10:41,510 --> 00:10:46,180
Она говорит, что логарифм цены квартиры

137
00:10:46,180 --> 00:10:51,330
определяется по следующей формуле:

138
00:10:51,330 --> 00:10:55,940
минус 0.46 плюс

139
00:10:55,940 --> 00:11:01,200
1,22 помножить на логарифм общей

140
00:11:01,200 --> 00:11:06,043
площади квартиры минус 0.35

141
00:11:06,043 --> 00:11:11,340
помножить на данную переменную,

142
00:11:11,340 --> 00:11:15,889
отвечающую за кирпичность и плюс

143
00:11:15,889 --> 00:11:21,478
0.11 помножить на
искусственную переменную,

144
00:11:21,478 --> 00:11:25,701
которая равна произведению индикатора

145
00:11:25,701 --> 00:11:31,080
кирпичности дома помножить
на логарифм общей

146
00:11:31,080 --> 00:11:36,180
площади квартиры — это произведение.

147
00:11:36,180 --> 00:11:38,926
Соответственно, что эта модель, как,

148
00:11:38,926 --> 00:11:42,506
во что она превращается для
кирпичных и для не кирпичных домов?

149
00:11:42,506 --> 00:11:47,090
Соответственно,
чтобы это выяснить, надо просто

150
00:11:47,090 --> 00:11:52,430
подставить вместо данной
переменной brick единичку и нолик.

151
00:11:52,430 --> 00:11:56,915
Если я подставлю единичку,
то у меня получится, что модель 2

152
00:11:56,915 --> 00:12:01,850
для кирпичных домов прогнозирует
их цену, точнее логарифм цены,

153
00:12:01,850 --> 00:12:08,726
следующим образом: минус 0.46
минус 35 соответственно,

154
00:12:08,726 --> 00:12:14,730
минус 0.81 здесь 1.22 да еще плюс 11,

155
00:12:14,730 --> 00:12:21,776
плюс 1.33 помножить на
логарифм общей площади.

156
00:12:21,776 --> 00:12:26,799
А для не кирпичных домов, логарифм цены,

157
00:12:26,799 --> 00:12:31,625
мы просто вместо brick подставляем нолик,
эти слагаемые

158
00:12:31,625 --> 00:12:36,823
исчезают и остается минус 0.46 плюс

159
00:12:36,823 --> 00:12:42,240
1.22 помножить на логарифм общей площади.

160
00:12:42,240 --> 00:12:48,250
То есть в чем разница между моделью 0,
моделью 1 и моделью 2?

161
00:12:48,250 --> 00:12:52,776
Модель 0 предполагает, что зависимость
цены квартиры от общей площади

162
00:12:52,776 --> 00:12:55,700
одинакова для кирпичных
и не кирпичных домов.

163
00:12:55,700 --> 00:12:58,608
Модель 1 предполагает,

164
00:12:58,608 --> 00:13:04,707
что влияние площади одинаково для
кирпичных и не кирпичных домов,

165
00:13:04,707 --> 00:13:10,875
но при одной и той же общей площади,
разная стоимость

166
00:13:10,875 --> 00:13:16,330
ожидаемая в домах
кирпичных и не кирпичных.

167
00:13:16,330 --> 00:13:19,076
А модель 2, она еще более общая.

168
00:13:19,076 --> 00:13:23,585
Она предполагает,
что в кирпичных и не кирпичных домах

169
00:13:23,585 --> 00:13:28,134
отличаются не только
свободные коэффициенты,

170
00:13:28,134 --> 00:13:33,143
отвечающие за логарифмы цены,
но также и воздействие площади,

171
00:13:33,143 --> 00:13:38,050
оно в кирпичных и не кирпичных
домах разное, вот здесь мы видим,

172
00:13:38,050 --> 00:13:43,670
что при росте площади квартиры на 1 %,

173
00:13:43,670 --> 00:13:47,740
цена в кирпичном доме растет на 1.33 %,

174
00:13:47,740 --> 00:13:52,598
в том время, как при росте площади
на 1 % в не кирпичном доме,

175
00:13:52,598 --> 00:13:58,210
цена квартиры в не кирпичном
доме растет слабее — на 1.22 %.

176
00:13:58,210 --> 00:14:00,621
А в модели 0 предполагалось,

177
00:14:00,621 --> 00:14:05,990
что вообще нет никакой разницы между
кирпичными и не кирпичными домами.

178
00:14:05,990 --> 00:14:11,072
А в модели 1 предполагалось,
что эффект роста общей площади одинаковый,

179
00:14:11,072 --> 00:14:15,700
но тем не менее при одинаковой общей
площади есть, тем не менее разница.

180
00:14:15,700 --> 00:14:19,150
Вот она разница между моделью 0,
моделью 1 и моделью 2.

