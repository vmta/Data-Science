1
00:00:13,250 --> 00:00:18,041
Теперь покажем,
как использовать одну из моделей,

2
00:00:18,041 --> 00:00:21,017
например, model_2 для прогнозирования.

3
00:00:21,017 --> 00:00:24,970
Возьмём какой-нибудь новый набор данных,
придумаем новые данные.

4
00:00:24,970 --> 00:00:30,030
Значит, новый набор данных
nw <- data.frame.

5
00:00:30,030 --> 00:00:35,471
Пусть у нас мы будем
прогнозировать стоимость

6
00:00:35,471 --> 00:00:40,710
квартиры общей площадью 60 метров,
но одну возьмём в кирпичном доме,

7
00:00:40,710 --> 00:00:48,302
а другую нет: brick <- factor(c),

8
00:00:48,302 --> 00:00:52,790
пусть первая будет в кирпичном доме,
а вторая нет.

9
00:00:52,790 --> 00:00:56,210
А общая площадь каждой
квартиры по 60 метров.

10
00:00:56,210 --> 00:01:01,021
Вот он наш набор данных,
можно посмотреть на nw, набор данных,

11
00:01:01,021 --> 00:01:02,940
в котором всего две переменных.

12
00:01:02,940 --> 00:01:08,289
А теперь мы с помощью model_2
построим прогнозы на этот новый набор

13
00:01:08,289 --> 00:01:13,920
данных: predict(model_2),

14
00:01:13,920 --> 00:01:21,285
новые данные мы берём из набора
данных nw и можем построить прогнозы.

15
00:01:21,285 --> 00:01:24,460
Вот, соответственно, наши прогнозы.

16
00:01:24,460 --> 00:01:29,610
Не забывайте, что у нас в модели логарифм
цены, да, поэтому если мы хотим получить

17
00:01:29,610 --> 00:01:34,760
точечный прогноз, то самый простой способ
— это взять экспоненту от этих прогнозов,

18
00:01:34,760 --> 00:01:38,820
поскольку e в степени — это обратное
действие к логарифмированию.

19
00:01:38,820 --> 00:01:44,760
То есть если я напишу exp от прогнозов,

20
00:01:44,760 --> 00:01:47,986
то я получу, соответственно, прогнозы.

21
00:01:47,986 --> 00:01:54,980
Первая у нас стоит 103
000 и вторая — 93 000.

22
00:01:54,980 --> 00:01:57,130
Можно построить доверительный интервал.

23
00:01:57,130 --> 00:01:59,810
Мы говорили,
что есть два доверительных интервала,

24
00:01:59,810 --> 00:02:05,409
поэтому давайте для наших двух квартир
построим доверительный интервал.

25
00:02:05,409 --> 00:02:12,313
Есть доверительный интервал для
среднего: interval = confidence,

26
00:02:12,313 --> 00:02:17,237
то есть это я построю 95 %
по умолчанию доверительный

27
00:02:17,237 --> 00:02:20,960
интервал для двух квартир
среднестатистических: одной

28
00:02:20,960 --> 00:02:24,547
среднестатистической с площадью
60 метров и в кирпичном доме,

29
00:02:24,547 --> 00:02:30,450
другой — среднестатистической с площадью
60 квадратных метров и в некирпичном доме.

30
00:02:30,450 --> 00:02:35,664
Опять же вот эти числа по модели 2 по
умолчанию предсказываются логарифмом,

31
00:02:35,664 --> 00:02:38,319
поэтому я снова допишу экспоненту.

32
00:02:38,319 --> 00:02:42,533
Соответственно, вот он
доверительный интервал:

33
00:02:42,533 --> 00:02:48,019
среднестатистическая квартира в кирпичном
доме с площадью 60 метров стоит,

34
00:02:48,019 --> 00:02:52,865
стоила, точнее, это данные
нескольколетней давности, соответственно,

35
00:02:52,865 --> 00:02:57,925
от 101-й тысячи долларов до 105-ти
тысяч долларов, это среднее по Москве.

36
00:02:57,925 --> 00:03:00,459
Соответственно, в некирпичном доме,

37
00:03:00,459 --> 00:03:05,760
ну доверительный интервал примерно такой
же ширины, но значение чуть меньше.

38
00:03:05,760 --> 00:03:10,145
Однако можно строить не
доверительный интервал,

39
00:03:10,145 --> 00:03:13,551
потому что доверительный интервал
интересует только вот кого-то с точки

40
00:03:13,551 --> 00:03:17,918
зрения статистики: это стоимость
среднестатистической квартиры,

41
00:03:17,918 --> 00:03:22,558
а не той, которая вот случайно попадётся,
если мы будем выбирать

42
00:03:22,558 --> 00:03:27,180
квартиру с такими характеристиками,
— поэтому построим предиктивный интервал.

43
00:03:27,180 --> 00:03:29,455
То есть в этом коде мы изменим одно слово.

44
00:03:29,455 --> 00:03:33,940
У нас интервал вместо доверительного для
среднестатистического значения будет

45
00:03:33,940 --> 00:03:36,760
прогнозным: predictive.

46
00:03:36,760 --> 00:03:41,378
И здесь то же самое, predictive.

47
00:03:41,378 --> 00:03:44,690
И построим этот интервал.

48
00:03:44,690 --> 00:03:50,760
Ой, не predictive, а prediction.

49
00:03:56,375 --> 00:04:01,990
Соответственно, этот доверительный
интервал оказывается существенно шире.

50
00:04:01,990 --> 00:04:05,530
Если тот для первой квартиры
был от 101-го до 105-ти,

51
00:04:05,530 --> 00:04:08,207
то теперь новый — от 70-ти до 150-ти.

52
00:04:08,207 --> 00:04:09,099
В чём разница?

53
00:04:09,099 --> 00:04:12,190
Первый доверительный
интервал — это доверительный

54
00:04:12,190 --> 00:04:15,384
интервал для среднестатистической
квартиры в Москве,

55
00:04:15,384 --> 00:04:20,308
некоторой мифической среднестатистической,
а когда мы выбираем конкретную квартиру

56
00:04:20,308 --> 00:04:25,016
с данными характеристиками (площадь 60
в кирпичном доме), то, естественно,

57
00:04:25,016 --> 00:04:27,857
она может оказаться как
дороже среднестатистической,

58
00:04:27,857 --> 00:04:31,911
так и дешевле среднестатистической,
и поэтому неопределённость при

59
00:04:31,911 --> 00:04:37,208
прогнозировании цены конкретной квартиры
— она выше, и поэтому предиктивный

60
00:04:37,208 --> 00:04:42,690
интервал уже выходит довольно широким:
от 70-ти тысяч до 150-ти тысяч.

61
00:04:42,690 --> 00:04:47,942
Вот она разница между
прогнозным интервалом и

62
00:04:47,942 --> 00:04:57,890
доверительным интервалом для
средней стоимости квартиры.

