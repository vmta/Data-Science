1
00:00:13,250 --> 00:00:20,505
Чтобы выбрать между трех оцененных нами
моделей, мы можем использовать F-тест.

2
00:00:20,505 --> 00:00:24,737
Соответственно, давайте с помощью
F-теста сравним в каждом случае

3
00:00:24,737 --> 00:00:27,320
ограниченную модель и неограниченную.

4
00:00:27,320 --> 00:00:32,480
Давайте заметим, что в нашем случае,
модель 0 является ограниченной

5
00:00:32,480 --> 00:00:38,530
по сравнению с моделью 1, потому что в ней
меньше коэффициентов, она менее сложная.

6
00:00:38,530 --> 00:00:41,644
Модель 1 является ограниченной
по сравнению с моделью 2.

7
00:00:41,644 --> 00:00:45,560
В модели 1 меньше коэффициентов,
оценивается она проще, чем модель 2.

8
00:00:45,560 --> 00:00:49,592
Ну, и модель 0, конечно, является
ограниченной по сравнению с моделью 2.

9
00:00:49,592 --> 00:00:53,914
В модели 0 меньше коэффициентов,
она является частным случаем модели 2,

10
00:00:53,914 --> 00:00:57,489
если занулить коэффициенты при
кирпичности дома и кирпичности,

11
00:00:57,489 --> 00:00:59,690
помноженной на логарифм общей площади.

12
00:00:59,690 --> 00:01:04,705
Соответственно, мы можем провести
три теста, сравнивающих три модели.

13
00:01:04,705 --> 00:01:09,720
Данный тест также называется
тестом «Вальда» — waldtest.

14
00:01:09,720 --> 00:01:14,090
Модель 0 против модели 1.

15
00:01:14,090 --> 00:01:17,390
И посмотрим на его результаты.

16
00:01:17,390 --> 00:01:19,691
Соответственно, здесь
что компьютер посчитал.

17
00:01:19,691 --> 00:01:23,285
Компьютер посчитал вот эту самую
F-статистику, которую мы считали руками,

18
00:01:23,285 --> 00:01:26,972
то есть RSS_R - RSS_UR 
делить на количество

19
00:01:26,972 --> 00:01:29,180
ограничений, в данном случае — одно,

20
00:01:29,180 --> 00:01:32,436
и делить на в знаменателе RSS
unrestricted его степень свободы.

21
00:01:32,436 --> 00:01:37,592
Вот, соответственно, здесь автоматом
посчитаны степени свободы в числителе один

22
00:01:37,592 --> 00:01:45,090
— одно ограничение, одна переменная
отличает эти модели и в знаменателе 2037.

23
00:01:45,090 --> 00:01:49,770
Посчитано значение в статистике,
210 примерно, 209.

24
00:01:49,770 --> 00:01:52,363
И автоматом компьютер
посчитал не F-критическое,

25
00:01:52,363 --> 00:01:55,500
поскольку F-критическое зависит
от того уровня значимости,

26
00:01:55,500 --> 00:01:59,205
которое выбирает исследователь,
а компьютер посчитал p-значение.

27
00:01:59,205 --> 00:02:03,007
Мы видим, что точное p-значение
очень маленькое, около нуля.

28
00:02:03,007 --> 00:02:08,905
Это означает, что гипотезу H_0 надо
отвергнуть, а гипотеза H_0 состоит в том,

29
00:02:08,905 --> 00:02:13,450
что у нас верна ограниченная модель в том,
что ограничение выполнено.

30
00:02:13,450 --> 00:02:20,234
Соответственно, в нашем
случае гипотеза H_0 о том,

31
00:02:20,234 --> 00:02:27,240
что верна модель 0 отвергается.

32
00:02:27,240 --> 00:02:32,404
Теперь мы можем сравнить с помощью

33
00:02:32,404 --> 00:02:37,210
того же f-теста модель 1 против модели 2.

34
00:02:37,210 --> 00:02:41,394
То есть мы выяснили, что гипотеза о том,
что модель 0 отвергается,

35
00:02:41,394 --> 00:02:44,250
соответственно, мы сравниваем
модель 1 и модель 2.

36
00:02:44,250 --> 00:02:45,955
Опять то же самое.

37
00:02:45,955 --> 00:02:51,544
Модели опять отличаются на один
коэффициент, модель 1 от модели 2,

38
00:02:51,544 --> 00:02:56,190
поэтому степени свободы по числителю
равны единичке, по знаменателю 2036.

39
00:02:56,190 --> 00:03:01,490
F-статистика на этот раз гораздо меньше
— шесть с хвостиком, по сравнению 209.

40
00:03:01,490 --> 00:03:05,489
То есть мы уже видим,
что разница на самом деле статистическая,

41
00:03:05,489 --> 00:03:10,028
но значимость между моделью 1 и
моделью 2 уже не такая сильная,

42
00:03:10,028 --> 00:03:14,321
как между моделью 0 и моделью 1,
но тем не менее p-value

43
00:03:14,321 --> 00:03:19,470
по-прежнему меньше 5 %,
поэтому мы H_0 снова отвергаем.

44
00:03:19,470 --> 00:03:24,953
H_0 true model — это

45
00:03:24,953 --> 00:03:31,617
один - отвергается и, соответственно,
отвергается в пользу модели 2.

46
00:03:31,617 --> 00:03:37,089
На всякий случай, можно же конечно
сравнить и напрямую модель 0 с моделью 2.

47
00:03:37,089 --> 00:03:41,173
Здесь естественно мы прийдем к выводу,

48
00:03:41,173 --> 00:03:45,760
что модель 0 существенно хуже модели 2.

49
00:03:45,760 --> 00:03:48,502
Тут уже отличаются они
на два коэффициента,

50
00:03:48,502 --> 00:03:53,210
поэтому степень свободы df (degrees
of freedom) по числителю равна двум.

51
00:03:53,210 --> 00:03:57,035
И, соответственно,
здесь у нас тоже получается,

52
00:03:57,035 --> 00:04:01,885
что модель true model 0

53
00:04:01,885 --> 00:04:06,743
отвергается.

54
00:04:06,743 --> 00:04:12,803
Также мы можем проиллюстрировать,
построить

55
00:04:12,803 --> 00:04:17,584
графики с линиями регрессии, даже в
принципе не оценивая сами регрессии.

56
00:04:17,584 --> 00:04:20,328
Давайте возьмем базовый график.

57
00:04:20,328 --> 00:04:24,270
Базовый график по горизонтали мы отложим

58
00:04:24,270 --> 00:04:29,600
логарифм общей площади,

59
00:04:29,600 --> 00:04:34,330
по вертикали отложим
логарифм цены квартиры.

60
00:04:34,330 --> 00:04:42,550
Это базовый график,
давайте его назовем gg0.

61
00:04:42,550 --> 00:04:47,447
И теперь мы к этому базовому графику gg0

62
00:04:47,447 --> 00:04:52,610
добавим, например, то,

63
00:04:52,610 --> 00:04:57,232
что… добавим сглаживающую

64
00:04:57,232 --> 00:05:01,645
линию stat smooth и
укажем метод сглаживания.

65
00:05:01,645 --> 00:05:07,013
Существует много разных методов оценки
кривых, но давайте укажем метод,

66
00:05:07,013 --> 00:05:11,346
в нашем случае линейной модели,
метод равняется lm.

67
00:05:11,346 --> 00:05:16,462
Соответственно, мы на
графике нарисовали прямую,

68
00:05:16,462 --> 00:05:22,520
как зависит в среднем логарифм
цены от логарифма общей площади.

69
00:05:22,520 --> 00:05:30,069
Также мы можем немножко
усовершенствовать наш график и добавить,

70
00:05:30,069 --> 00:05:35,542
например, деление на отдельные квадратики,

71
00:05:35,542 --> 00:05:42,010
в зависимости от того, находится ли
квартира в пешей доступности от метро.

72
00:05:42,010 --> 00:05:46,744
А также мы можем

73
00:05:46,744 --> 00:05:51,798
еще изменить наш график и

74
00:05:51,798 --> 00:05:58,766
добавить сюда раскраску,

75
00:05:58,766 --> 00:06:04,590
в зависимости от того… раскраску
точек в зависимости от того,

76
00:06:04,590 --> 00:06:08,750
находится ли наша квартира
в кирпичном доме или нет.

77
00:06:08,750 --> 00:06:14,230
Давайте посмотрим на этот график.

78
00:06:22,230 --> 00:06:27,415
В модели, которую мы оценивали, мы никак
не учитывали, находится ли квартира

79
00:06:27,415 --> 00:06:32,390
в пешей доступности от метро, а вот здесь
на графиках видно очень интересный эффект,

80
00:06:32,390 --> 00:06:37,703
что если квартира не в пешей
доступности от метро, walk равно 0, тогда

81
00:06:37,703 --> 00:06:42,922
зависимость для кирпичных и не кирпичных
квартир, она практически одинаковая.

82
00:06:42,922 --> 00:06:45,020
Вот эти прямые, они совпадают.

83
00:06:45,020 --> 00:06:48,319
А вот если квартира в пешей
доступности от метро,

84
00:06:48,319 --> 00:06:52,960
то уже мы видим разную зависимость
для кирпичных и не кирпичных домов.

