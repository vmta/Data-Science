1
00:00:12,070 --> 00:00:18,890
Проверим гипотезу сразу о
нескольких коэффициентах.

2
00:00:18,890 --> 00:00:23,325
К примеру, исследователь оценил
модель зависимости стоимости

3
00:00:23,325 --> 00:00:25,830
квартиры в Москве от ряда факторов.

4
00:00:25,830 --> 00:00:30,180
У исследователя была модель 1 и модель 2.

5
00:00:30,180 --> 00:00:33,289
Модель 1 имела следующий вид.

6
00:00:33,289 --> 00:00:38,579
Логарифм стоимости квартиры
объяснялся следующим

7
00:00:38,579 --> 00:00:43,445
образом: минус 0.215 плюс

8
00:00:43,445 --> 00:00:48,964
0.83 умножить на логарифм
общей площади плюс

9
00:00:48,964 --> 00:00:54,786
0.268 помножить на логарифм жилой

10
00:00:54,786 --> 00:00:59,954
площади плюс 0.196

11
00:00:59,954 --> 00:01:04,934
на логарифм площади кухни плюс

12
00:01:04,934 --> 00:01:09,465
0.112 умножить на дамми-переменную,

13
00:01:09,465 --> 00:01:13,865
которая равна единичке для
кирпичных домов и ноль иначе,

14
00:01:13,865 --> 00:01:18,563
минус 0.01 на расстояние до метро в

15
00:01:18,563 --> 00:01:22,860
минутах и плюс 0.1 на дамми-переменную,

16
00:01:22,860 --> 00:01:29,485
которая означает метро пешком.

17
00:01:29,485 --> 00:01:30,529
И модель 2 была короче.

18
00:01:30,529 --> 00:01:34,670
Исследователь предположил, ну тут какие-то
коэффициенты маленькие, – 0.01, 0.1.

19
00:01:34,670 --> 00:01:36,924
А давайте вот мы уберём те переменные,

20
00:01:36,924 --> 00:01:39,658
которые характеризуют
удаленность от метро.

21
00:01:39,658 --> 00:01:43,880
Собственно, и метро
пешком или на транспорте,

22
00:01:43,880 --> 00:01:47,957
и время, — они характеризуют
удалённость квартиры от метро,

23
00:01:47,957 --> 00:01:50,649
то есть эти две переменные,
они отвечают за одну и ту же идею.

24
00:01:50,649 --> 00:01:53,180
Давайте мы их уберём,
рассмотрим модель попроще.

25
00:01:53,180 --> 00:01:58,106
Соответственно, модель 2 имела следующий
вид: логарифм price с крышкой,

26
00:01:58,106 --> 00:02:02,661
— он оценил, соответственно,
модель без этих двух переменных и получил,

27
00:02:02,661 --> 00:02:07,200
естественно, другие
результаты: минус 0.261 плюс

28
00:02:07,200 --> 00:02:12,472
0.795 помножить на логарифм общей

29
00:02:12,472 --> 00:02:17,518
площади плюс 0.309 помножить

30
00:02:17,518 --> 00:02:22,603
на логарифм жилой площади и

31
00:02:22,603 --> 00:02:28,630
плюс 0.13 помножить на дамми-переменную,
отвечающую за кирпичность дома.

32
00:02:28,630 --> 00:02:33,649
И известно, что в модели 1 сумма квадратов

33
00:02:33,649 --> 00:02:39,550
остатков RSS оказалась равна 62.6,

34
00:02:39,550 --> 00:02:44,213
а в модели 2 RSS оказался равен,

35
00:02:44,213 --> 00:02:47,830
сумма квадратов остатков, 69.3.

36
00:02:47,830 --> 00:02:53,380
И известно, что оценивание
производилось по 2040-ка наблюдениям.

37
00:02:53,380 --> 00:02:57,716
Соответственно, вопрос следующий:
какую модель следует предпочесть?

38
00:02:57,716 --> 00:03:01,778
Первую модель — она, конечно,
более сложная, но она, вроде,

39
00:03:01,778 --> 00:03:04,223
и предсказывает получше, RSS поменьше?

40
00:03:04,223 --> 00:03:08,290
Либо вторую — она, может, чуть-чуть
похуже предсказывает, но зато она проще?

41
00:03:08,290 --> 00:03:13,165
Вот вопрос, является ли разница
RSS вызванной случайными факторами

42
00:03:13,165 --> 00:03:17,621
или у нас вот просто
систематически мы пропустили в

43
00:03:17,621 --> 00:03:22,126
модели 2 значимые важные переменные?

44
00:03:22,126 --> 00:03:28,590
То есть формально наша гипотеза H_0
формулируется в виде гипотезы о равенстве,

45
00:03:28,590 --> 00:03:34,420
то есть гипотеза о том, что β при
переменной metrdist равняется нулю,

46
00:03:34,420 --> 00:03:38,786
и β при переменной walk равняется нулю.

47
00:03:38,786 --> 00:03:42,983
А альтернативная гипотеза
формулируется о том,

48
00:03:42,983 --> 00:03:47,930
что хотя бы один из этих двух
коэффициентов, хотя бы один из

49
00:03:47,930 --> 00:03:52,970
β_metrdist или

50
00:03:52,970 --> 00:03:57,680
β_walk не равен нулю.

51
00:03:57,680 --> 00:04:04,250
То есть неважно, какое неравенство
нарушено, все равно H_0 не выполнено.

52
00:04:04,250 --> 00:04:09,150
Эта гипотеза проверяется
с помощью F-статистики.

53
00:04:09,150 --> 00:04:11,597
Напомню формулу для F-статистики.

54
00:04:11,597 --> 00:04:17,173
Это RSS ограниченной модели минус RSS
неограниченной модели делить на количество

55
00:04:17,173 --> 00:04:22,620
ограничений делить на RSSur на (n – k_ur).

56
00:04:22,620 --> 00:04:29,020
В нашем случае два ограничения.

57
00:04:29,020 --> 00:04:33,951
Ограниченной моделью является модель,
где мы считаем,

58
00:04:33,951 --> 00:04:38,307
что β равны нулю, то есть более
короткая модель ограниченная.

59
00:04:38,307 --> 00:04:43,380
М2 — это ограниченная модель,
а М1 — это неограниченная модель.

60
00:04:43,380 --> 00:04:48,434
Подставляя, соответственно: 69.3

61
00:04:48,434 --> 00:04:53,607
минус 62.6 делим на 2
(у нас два ограничения,

62
00:04:53,607 --> 00:04:59,850
раз, два), делим на RSS_ur,

63
00:04:59,850 --> 00:05:06,430
это 62.6,
делить на количество наблюдений 2040,

64
00:05:06,430 --> 00:05:11,233
минус k (это количество оцениваемых
коэффициентов в неограниченной модели);

65
00:05:11,233 --> 00:05:15,989
в неограниченной модели у нас раз,
два, три, четыре, пять, шесть,

66
00:05:15,989 --> 00:05:20,269
семь — семь коэффициентов
оценивалось β с крышкой.

67
00:05:20,269 --> 00:05:25,920
И если это посчитать, окажется,
что примерно получается 110.

68
00:05:25,920 --> 00:05:30,410
А с точки зрения теории,
у нас есть теорема, которая говорит,

69
00:05:30,410 --> 00:05:36,840
что при верной H_0 F-статистика

70
00:05:36,840 --> 00:05:41,443
должна иметь,
наблюдаемая F-статистика должна иметь

71
00:05:41,443 --> 00:05:45,552
F-распределение со степенями
свободы r и (n – k_ur).

72
00:05:45,552 --> 00:05:50,300
То есть у нас должно
быть F-распределение с 2,

73
00:05:50,300 --> 00:05:55,130
2033 степенями свободы.

74
00:05:55,130 --> 00:06:01,982
F-распределение выглядит
следующим образом.

75
00:06:01,982 --> 00:06:05,950
Поскольку у нас степени свободы две,

76
00:06:05,950 --> 00:06:10,140
то поэтому тут такой особый случай,
вот она выглядит так вот.

77
00:06:10,140 --> 00:06:14,685
Обычно F-распределение для большого
количества степеней свободы

78
00:06:14,685 --> 00:06:16,570
выглядит примерно вот так.

79
00:06:16,570 --> 00:06:19,621
Но для двух — это небольшое исключение.

80
00:06:19,621 --> 00:06:22,070
Есть здесь некое F критическое.

81
00:06:22,070 --> 00:06:23,362
Давайте проверим.

82
00:06:23,362 --> 00:06:25,491
Я не указал уровень значимости.

83
00:06:25,491 --> 00:06:30,227
Ну давайте возьмём, скажем,
уровень значимости, ошибка первого рода,

84
00:06:30,227 --> 00:06:32,566
вероятность ошибки первого рода 5 %.

85
00:06:32,566 --> 00:06:36,821
Если я беру вероятность ошибки первого
рода 5 %, то у меня справа от F

86
00:06:36,821 --> 00:06:42,990
критического оказывается площадь 0.05,
слева от F критического 0.95.

87
00:06:42,990 --> 00:06:48,610
И, соответственно, можно, например,

88
00:06:48,610 --> 00:06:54,837
либо по таблицам, либо с помощью R найти,
что F-критическое — это квантиль

89
00:06:54,837 --> 00:07:00,621
F-распределения с вероятностью 0.95 слева,

90
00:07:00,621 --> 00:07:04,915
степени свободы 1 — это 2 и степени

91
00:07:04,915 --> 00:07:09,430
свободы вторые — это 2033.

92
00:07:09,430 --> 00:07:13,910
И дав, например, эту команду в R,

93
00:07:13,910 --> 00:07:18,260
мы получим результат,
что F-критическое примерно равно трём.

94
00:07:18,260 --> 00:07:23,523
Соответственно, вот это три,
а наше F-наблюдаемое, Fobs,

95
00:07:23,523 --> 00:07:28,270
оно существенно дальше, чем F-критическое,

96
00:07:28,270 --> 00:07:34,950
то есть у нас разница между
RSSr и RSSur слишком велика.

97
00:07:34,950 --> 00:07:41,028
То есть мы попадаем в область,
где H_0 отвергается.

98
00:07:41,028 --> 00:07:45,299
Слишком велика разница
между этими моделями в RSS,

99
00:07:45,299 --> 00:07:49,424
то есть первая модель
предсказывает существенно лучше,

100
00:07:49,424 --> 00:07:53,760
это не случайность — такое
большое отличие в RSS.

101
00:07:53,760 --> 00:07:59,410
А вот здесь было бы, если бы у нас
F-наблюдаемое попало в эту область,

102
00:07:59,410 --> 00:08:01,780
то H_0 не отвергалась бы.

103
00:08:01,780 --> 00:08:09,570
Соответственно, в нашем
случае вывод: H_0 отвергается.

104
00:08:09,570 --> 00:08:15,736
Гипотеза H_0 состояла в том,
что коэффициенты равняются нулю,

105
00:08:15,736 --> 00:08:20,280
то есть один из коэффициентов, пропущенных
во второй модели не равен нулю,

106
00:08:20,280 --> 00:08:24,752
пропускать коэффициенты — это плохо,
то есть мы делаем вывод,

107
00:08:24,752 --> 00:08:31,530
что нам надо предпочесть модель 1,
а не модель 2.

