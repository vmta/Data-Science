1
00:00:13,250 --> 00:00:18,798
Дамми-переменные – это
переменные самого простого типа.

2
00:00:18,798 --> 00:00:23,290
Если объясняющая переменная
принимает значение 1 или 0,

3
00:00:23,290 --> 00:00:26,510
то она называется дамми-переменной,
это очень просто.

4
00:00:26,510 --> 00:00:30,683
Ну, например, если в данных надо
закодировать пол респондента, то можно,

5
00:00:30,683 --> 00:00:35,066
например, мужчинам поставить 1,
женщинам – 0, и соответственно получить,

6
00:00:35,066 --> 00:00:39,060
что вот у нас дамми-переменная male i-тая,
она обозначает пол индивида,

7
00:00:39,060 --> 00:00:40,067
попавшего в опрос.

8
00:00:40,067 --> 00:00:42,850
Это может быть все, что угодно,
стало ли, например,

9
00:00:42,850 --> 00:00:44,760
предприятие банкротом или не стало.

10
00:00:44,760 --> 00:00:47,464
Примеров дамми-переменных
можно привести много,

11
00:00:47,464 --> 00:00:50,771
но по сути своей дамми-переменная
– это всего лишь переменная,

12
00:00:50,771 --> 00:00:55,137
которая принимает всего 2 значения: либо
0, либо 1, другие значения исключены.

13
00:00:55,137 --> 00:00:58,578
С помощью дамми-переменных очень легко,
оказывается,

14
00:00:58,578 --> 00:01:02,471
можно описывать разные
модели в виде одной модели,

15
00:01:02,471 --> 00:01:07,341
расписывать разные модели,
соотносящиеся для разных частей выборки.

16
00:01:07,341 --> 00:01:10,570
Давайте разберем простой пример,
чтобы это понять.

17
00:01:10,570 --> 00:01:13,049
К примеру, у нас есть 
некая базовая модель.

18
00:01:13,049 --> 00:01:17,727
Мы смотрим, как зарплата зависит от
опыта работы и уровня образования.

19
00:01:17,727 --> 00:01:22,670
Зарплата равна β₁ плюс β₂ на опыт работы (exper_i),
плюс β_3 на количество лет обучения,

20
00:01:22,670 --> 00:01:27,550
плюс случайная непрогнозируемая составляющая.
В этой модели пол

21
00:01:27,550 --> 00:01:32,459
никак не учитывается, то есть мы
предполагаем, что при равном опыте и при

22
00:01:32,459 --> 00:01:36,947
равном образовании зарплата определяется
вот этой случайной составляющей ε,

23
00:01:36,947 --> 00:01:41,105
и то есть в среднем при равном опыте и
при равном образовании зарплаты равны.

24
00:01:41,105 --> 00:01:42,820
Это у нас будет базовая модель.

25
00:01:42,820 --> 00:01:45,352
А теперь что произойдет,

26
00:01:45,352 --> 00:01:50,380
если мы рассмотрим немножко
другой пример регрессии,

27
00:01:50,380 --> 00:01:54,970
куда мы включим в качестве объясняющих
переменных переменную male i-тое,

28
00:01:54,970 --> 00:01:58,150
которая равна 1 для мужчины,
0 – для женщины, для определенности.

29
00:01:58,150 --> 00:02:01,050
Соответственно, что произойдет?

30
00:02:01,050 --> 00:02:04,042
Это одно уравнение для всей выборки,

31
00:02:04,042 --> 00:02:09,237
но его можно упростить для мужчин,
поскольку для мужчин male равно 1,

32
00:02:09,237 --> 00:02:14,190
переменная, и для женщин,
для женщин переменная male будет равна 0.

33
00:02:14,190 --> 00:02:19,675
Соответственно, для мужчин мы получаем,
что заработная плата i-того

34
00:02:19,675 --> 00:02:25,030
индивида – это (β₁ + β_4),
потому что β_4 умножилось на 1,

35
00:02:25,030 --> 00:02:29,710
плюс β₂ на exper_i, плюс β_3 на educ_i, 
плюс случайная составляющая,

36
00:02:29,710 --> 00:02:33,650
а для женщин получается другое уравнение,

37
00:02:33,650 --> 00:02:39,090
а именно 
wage_i = β₁ + β₂ exper_i + β_3 educ_i + ε_i.

38
00:02:39,090 --> 00:02:44,440
Это означает,
что смысл коэффициента β_4 состоит в том,

39
00:02:44,440 --> 00:02:49,206
на сколько при одинаковом
уровне обучения и стажа

40
00:02:49,206 --> 00:02:53,247
работы отличается зарплата
у мужчин и женщин.

41
00:02:53,247 --> 00:02:58,710
Если β_4 отрицательно, значит при
прочих равных зарплата у женщин выше,

42
00:02:58,710 --> 00:03:04,220
если β_4 положительно, то при прочих
равных зарплата у мужчин выше.

43
00:03:04,220 --> 00:03:07,970
То есть, таким образом, что мы получили?

44
00:03:07,970 --> 00:03:13,040
С помощью одного уравнения с
дамми-переменной мы фактически описали

45
00:03:13,040 --> 00:03:18,110
две разных модели, одна из которых
относится к подвыборке мужчин

46
00:03:18,110 --> 00:03:22,700
нашей выборки и вторая модель
относится к подвыборке женщин.

47
00:03:22,700 --> 00:03:27,441
В предыдущем примере зависимость,
тем не менее, влияния опыта

48
00:03:27,441 --> 00:03:32,660
работы на зарплату у мужчин
и женщин было одинаковое.

49
00:03:32,660 --> 00:03:37,079
С помощью дамми-переменных легко
реализовать ситуацию, где мы предполагаем,

50
00:03:37,079 --> 00:03:42,032
что опыт работы по-разному влияет на
заработную плату у мужчин и заработную

51
00:03:42,032 --> 00:03:43,150
плату у женщин.

52
00:03:43,150 --> 00:03:48,700
А именно, если в наше уравнение модели,
помимо, собственно, переменной male,

53
00:03:48,700 --> 00:03:53,860
включить переменную male помножить
на experience, то что мы получим?

54
00:03:53,860 --> 00:04:00,340
Мы получим, что для мужчин, у них male
равно 1, для них уравнение превратится

55
00:04:00,340 --> 00:04:05,702
в зарплата 
wage_i = (β₁ + β_4) + (β₂ + β_5)exper_i + β_3 educ_i + ε_i 

56
00:04:05,702 --> 00:04:10,870
wage_i = (β₁ + β_4) + (β₂ + β_5)exper_i + β_3 educ_i + ε_i 

57
00:04:10,870 --> 00:04:15,193
а для женщин аналогичное
уравнение будет иметь

58
00:04:15,193 --> 00:04:21,180
базовый вид: 
wage_i = β₁ + β₂ exper_i + β_3 educ_i + ε_i.

59
00:04:21,180 --> 00:04:25,340
Соответственно, каков смысл вот
этих коэффициентов, β_4 и β_5?

60
00:04:25,340 --> 00:04:31,559
β_5 показывает,
на сколько год дополнительного

61
00:04:31,559 --> 00:04:36,434
опыта работы у мужчин вносит другой вклад,

62
00:04:36,434 --> 00:04:40,145
нежели год дополнительной работы у женщин.

63
00:04:40,145 --> 00:04:45,443
β_4 показывает, соответственно,
свободную составляющую,

64
00:04:45,443 --> 00:04:50,268
то есть свободный член,
насколько отличается составляющая,

65
00:04:50,268 --> 00:04:54,010
коэффициент не при experience
и не при education.

66
00:04:54,010 --> 00:04:57,859
Таким образом, мы с помощью
дамми-переменных можем посмотреть,

67
00:04:57,859 --> 00:05:03,180
а правда ли, что стаж у мужчин и женщин
по-разному влияет на заработную плату.

68
00:05:03,180 --> 00:05:09,400
Для этого, например, достаточно проверить
гипотезу о том, что коэффициент β_5 равно 0.

69
00:05:09,400 --> 00:05:13,376
Рассмотрим еще один пример,
как включить дамми-переменную.

70
00:05:13,376 --> 00:05:19,658
Если я поставлю дамми-переменную β_4 male_i

71
00:05:19,658 --> 00:05:27,405
+ β_5 male_i educ_i + ε_i, то что это означает?

72
00:05:27,405 --> 00:05:32,121
Это означает, что для мужчин
модель имеет вид wage_i = (β₁ +

73
00:05:32,121 --> 00:05:35,870
β_4) + β₂ exper_i + (β_3 + β_5) educ_i + ε_i,

74
00:05:35,870 --> 00:05:40,940
а для женщин модель имеет вид 
wage_i = β₁ + β₂experi + β_3 educ_i + ε_i.

75
00:05:40,940 --> 00:05:45,900
Это означает, что β_5 показывает,
насколько год,

76
00:05:45,900 --> 00:05:50,528
дополнительный год обучения,
по-разному влияет у мужчин и женщин.

77
00:05:50,528 --> 00:05:55,174
Например, если β_5 меньше 0,
это означает, что дополнительный год

78
00:05:55,174 --> 00:06:00,230
обучения для женщин больше увеличивает
заработную плату, чем для мужчин.

79
00:06:00,230 --> 00:06:04,734
Если β_5 положительно, то, соответственно,
дополнительный год обучения сильнее

80
00:06:04,734 --> 00:06:09,160
увеличивает заработную плату мужчин,
нежели заработную плату женщин.

81
00:06:09,160 --> 00:06:13,774
И, наконец, можно скомбинировать
два предыдущих примера в один,

82
00:06:13,774 --> 00:06:19,003
включить еще больше переменных
в нашу модель, то есть включить

83
00:06:19,003 --> 00:06:23,842
β_3 educ_i + β_4 male_i + β_5 male_i educ_i

84
00:06:23,842 --> 00:06:28,531
+ β_6 male_i exper_i + ε_i,
и тогда мы предполагаем,

85
00:06:28,531 --> 00:06:33,450
что модели для мужчин и женщин фактически
могут отличаться произвольным образом.

86
00:06:33,450 --> 00:06:40,990
Свой свободный коэффициент β₁ у женщин,
который у мужчин – β₁ + β_4,

87
00:06:40,990 --> 00:06:45,706
свой коэффициент при experience,
у женщин это β₂, у мужчин – β₂ + β_6.

88
00:06:45,706 --> 00:06:51,909
Соответственно, β6 показывает, насколько
по-разному опыт работы влияет, и, наконец,

89
00:06:51,909 --> 00:06:57,730
точно также коэффициент при education у
женщин – β_3, у мужчин другой – β_3 + β_5.

90
00:06:57,730 --> 00:07:00,580
β_5 показывает, насколько отличается.

91
00:07:00,580 --> 00:07:06,768
Таким образом, мы видим, что с помощью
дамми-переменных мы можем фактически

92
00:07:06,768 --> 00:07:12,822
построить по-разному отличающиеся
модели для двух частей выборки.

93
00:07:12,822 --> 00:07:16,361
Мы можем предположить, что модели на
двух частях выборки отличаются только

94
00:07:16,361 --> 00:07:20,346
свободными коэффициентами, коэффициентами
при какой-нибудь переменной,

95
00:07:20,346 --> 00:07:22,866
всеми возможными коэффициентами.

96
00:07:22,866 --> 00:07:27,531
Все это можно реализовать легко
с помощью дамми-переменных.

97
00:07:27,531 --> 00:07:29,690
Бывает так, что какая-нибудь факторная,

98
00:07:29,690 --> 00:07:32,407
качественная переменная
принимает не два значения,

99
00:07:32,407 --> 00:07:37,045
мужчина/ женщина или предприятие банкрот/
не банкрот, а принимает много значений.

100
00:07:37,045 --> 00:07:41,840
Например, если вы исследуете что-то во
времени, то у вас может быть важен сезон,

101
00:07:41,840 --> 00:07:45,650
а сезон может принимать 4 значения: зима,
весна, лето и осень.

102
00:07:45,650 --> 00:07:48,780
Как это реализовать с помощью циферок?

103
00:07:48,780 --> 00:07:52,520
С помощью цифр это реализуется
следующим образом.

104
00:07:52,520 --> 00:07:55,070
Выбирается один сезон за базовый.

105
00:07:55,070 --> 00:07:59,850
Вот сейчас у нас зима, поэтому будем
считать, что базовый сезон – это зима.

106
00:07:59,850 --> 00:08:03,885
И, соответственно,
мы вводим 3 дамми-переменных,

107
00:08:03,885 --> 00:08:07,920
каждая дамми-переменная по-прежнему
принимает значение 1 или 0.

108
00:08:07,920 --> 00:08:13,387
Мы вводим переменную «весна»,
которая равна 1, если весна соответствует

109
00:08:13,387 --> 00:08:19,663
наблюдению, и 0 иначе; переменная «лето»,
которая принимает значение 1,

110
00:08:19,663 --> 00:08:24,708
если это наблюдений летнее,
и 0 иначе; и переменная «осень»,

111
00:08:24,708 --> 00:08:28,680
которая равна 1,
если наблюдение осеннее, и 0 иначе.

112
00:08:28,680 --> 00:08:31,101
То есть у нас каждая переменная,

113
00:08:31,101 --> 00:08:36,820
мы каждому наблюдению сопоставим 3
новых переменных: весна, лето и осень.

114
00:08:36,820 --> 00:08:39,020
Если наблюдение зимнее,

115
00:08:39,020 --> 00:08:44,140
то все 3 переменные новые будут
равны нулю, если переменная, если,

116
00:08:44,140 --> 00:08:48,820
вернее, наблюдение осеннее, то весна равна
1, остальные две дамми-переменные – 0.

117
00:08:48,820 --> 00:08:53,221
Ну, например, если летнее наблюдение,
то летнее дамми – 1, остальные

118
00:08:53,221 --> 00:08:57,905
дамми-переменные две по нулям, ну, и,
соответственно, для осени то же самое.

119
00:08:57,905 --> 00:09:01,350
Если наблюдение осеннее,
то дамми-переменная осень равна 1,

120
00:09:01,350 --> 00:09:03,790
а остальные две
дамми-переменные равны нулю.

121
00:09:03,790 --> 00:09:07,824
При таком способе введения
дамми-переменных можно понять,

122
00:09:07,824 --> 00:09:12,280
что означает каждый коэффициент,
и это легко сделать на примере.

123
00:09:12,280 --> 00:09:17,062
К примеру, исследователь интересуется
объемом спроса на мороженое в

124
00:09:17,062 --> 00:09:21,380
зависимости от цены средней в
киоске и сезона, в котором, значит,

125
00:09:21,380 --> 00:09:23,427
к которому относится наблюдение.

126
00:09:23,427 --> 00:09:30,245
Ну вот, в такой простой модели величина
спроса на мороженое равна β₁ + β₂ price_i

127
00:09:30,245 --> 00:09:35,280
+ β_3 vesna_i + β_4 leto_i + β_5 osen_i + ε_i.

128
00:09:35,280 --> 00:09:38,820
Соответственно, если
наблюдение относится к зиме,

129
00:09:38,820 --> 00:09:43,929
то модель для этой части выборки, для
зимних наблюдений превращается в совсем

130
00:09:43,929 --> 00:09:48,474
простую: icecream_i = β₁ + β₂ price_i + ε_i.

131
00:09:48,474 --> 00:09:53,415
Для весны соответствующее уравнение

132
00:09:53,415 --> 00:09:59,280
упрощается до (β₁ + β_3) + β₂ price_i + ε_i.

133
00:09:59,280 --> 00:10:02,983
Соответственно, в чем
смысл коэффициента β_3?

134
00:10:02,983 --> 00:10:09,698
β_3 показывает разницу в спросе на
мороженое между весной и зимой.

135
00:10:09,698 --> 00:10:14,771
Мы, наверное, ожидаем,
что β_3 будет больше 0, и,

136
00:10:14,771 --> 00:10:19,460
соответственно, хотя вдруг, каким-то
странным образом может оказаться меньше,

137
00:10:19,460 --> 00:10:23,152
но тем не менее, мы ожидаем,
что β_3 будет больше, и, соответственно,

138
00:10:23,152 --> 00:10:27,851
по смыслу β_3 – это насколько
спрос на мороженое весной больше,

139
00:10:27,851 --> 00:10:32,230
чем спрос на мороженое зимой
при той же самой цене,

140
00:10:32,230 --> 00:10:35,200
при фиксированной переменной price.

141
00:10:35,200 --> 00:10:43,140
Аналогично для лета уравнение упростится
до icecream_i = (β₁ + β_4) + β₂ price_i + ε_i.

142
00:10:43,140 --> 00:10:48,680
Соответственно, β_4 показывает,
насколько лето отличается от зимы.

143
00:10:48,680 --> 00:10:52,001
И аналогично для осени,
β_5 будет показывать,

144
00:10:52,001 --> 00:10:57,326
насколько осень отличается от зимы,
то есть коэффициенты β_3, β_4,

145
00:10:57,326 --> 00:11:02,550
β_5 сравнивают соответствующий сезон с
базовым, который мы выбрали для сравнения.

146
00:11:02,550 --> 00:11:07,136
Очень частая ошибка,
которая бывает, есть у новичков,

147
00:11:07,136 --> 00:11:11,297
которую хотелось бы избежать, это то,
что включают дамми-переменные

148
00:11:11,297 --> 00:11:14,741
на все значения факторной
переменной и константу в регрессию.

149
00:11:14,741 --> 00:11:19,365
То есть включают и дамми-переменную
на весну, и на зиму, и на лето,

150
00:11:19,365 --> 00:11:23,990
и на осень или включают
дамми-переменную и male, и female,

151
00:11:23,990 --> 00:11:27,916
то есть включают и переменную, которая
равна 1 для мужчин, а для женщин – 0,

152
00:11:27,916 --> 00:11:32,118
и включают переменную female,
которая равна 1 для женщин и 0 для мужчин.

153
00:11:32,118 --> 00:11:33,130
Это ошибка!

154
00:11:33,130 --> 00:11:36,074
Надо включить либо ту, либо другую.

155
00:11:36,074 --> 00:11:41,068
Неважно какую, уравнение для
отдельных подвыборок получится

156
00:11:41,068 --> 00:11:45,681
совершенно одинаковым, неважно, какую
вы включите, но если вы включите обе,

157
00:11:45,681 --> 00:11:50,502
то у вас возникнет жесткая линейная
зависимость между регрессорами,

158
00:11:50,502 --> 00:11:57,714
а именно переменная male + переменная
female всегда будет равняться единичке.

159
00:11:57,714 --> 00:12:02,111
И, соответственно,
невозможно будет получить

160
00:12:02,111 --> 00:12:07,006
однозначные оценки метода
наименьших квадратов в этом случае.

161
00:12:07,006 --> 00:12:11,033
Это связано с тем,
что нарушена наша восьмая предпосылка.

162
00:12:11,033 --> 00:12:15,846
Мы говорили, что с вероятностью 1 среди
регрессоров нет линейно зависимых.

163
00:12:15,846 --> 00:12:20,356
Если включить дамми-переменных слишком
много на каждое возможное значение

164
00:12:20,356 --> 00:12:25,578
факторной переменной, то эта предпосылка о
независимости регрессоров будет нарушена.

165
00:12:25,578 --> 00:12:29,770
Вот у нас male + female = 1,
это зависимость между регрессорами.

166
00:12:29,770 --> 00:12:35,048
Tак делать нельзя, просто мы включаем
дамми-переменных на одну меньше,

167
00:12:35,048 --> 00:12:39,346
чем значений потенциальной
факторной переменной.

168
00:12:39,346 --> 00:12:47,910
Если сезонов 4,
то дамми-переменных мы включим 3.

