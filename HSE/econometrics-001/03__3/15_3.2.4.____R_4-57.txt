Теперь покажем,
как использовать одну из моделей,
например, model_2 для прогнозирования.
Возьмём какой-нибудь новый набор данных,
придумаем новые данные.
Значит, новый набор данных
nw <- data.frame.
Пусть у нас мы будем
прогнозировать стоимость
квартиры общей площадью 60 метров,
но одну возьмём в кирпичном доме,
а другую нет: brick <- factor(c),
пусть первая будет в кирпичном доме,
а вторая нет.
А общая площадь каждой
квартиры по 60 метров.
Вот он наш набор данных,
можно посмотреть на nw, набор данных,
в котором всего две переменных.
А теперь мы с помощью model_2
построим прогнозы на этот новый набор
данных: predict(model_2),
новые данные мы берём из набора
данных nw и можем построить прогнозы.
Вот, соответственно, наши прогнозы.
Не забывайте, что у нас в модели логарифм
цены, да, поэтому если мы хотим получить
точечный прогноз, то самый простой способ
— это взять экспоненту от этих прогнозов,
поскольку e в степени — это обратное
действие к логарифмированию.
То есть если я напишу exp от прогнозов,
то я получу, соответственно, прогнозы.
Первая у нас стоит 103
000 и вторая — 93 000.
Можно построить доверительный интервал.
Мы говорили,
что есть два доверительных интервала,
поэтому давайте для наших двух квартир
построим доверительный интервал.
Есть доверительный интервал для
среднего: interval = confidence,
то есть это я построю 95 %
по умолчанию доверительный
интервал для двух квартир
среднестатистических: одной
среднестатистической с площадью
60 метров и в кирпичном доме,
другой — среднестатистической с площадью
60 квадратных метров и в некирпичном доме.
Опять же вот эти числа по модели 2 по
умолчанию предсказываются логарифмом,
поэтому я снова допишу экспоненту.
Соответственно, вот он
доверительный интервал:
среднестатистическая квартира в кирпичном
доме с площадью 60 метров стоит,
стоила, точнее, это данные
нескольколетней давности, соответственно,
от 101-й тысячи долларов до 105-ти
тысяч долларов, это среднее по Москве.
Соответственно, в некирпичном доме,
ну доверительный интервал примерно такой
же ширины, но значение чуть меньше.
Однако можно строить не
доверительный интервал,
потому что доверительный интервал
интересует только вот кого-то с точки
зрения статистики: это стоимость
среднестатистической квартиры,
а не той, которая вот случайно попадётся,
если мы будем выбирать
квартиру с такими характеристиками,
— поэтому построим предиктивный интервал.
То есть в этом коде мы изменим одно слово.
У нас интервал вместо доверительного для
среднестатистического значения будет
прогнозным: predictive.
И здесь то же самое, predictive.
И построим этот интервал.
Ой, не predictive, а prediction.
Соответственно, этот доверительный
интервал оказывается существенно шире.
Если тот для первой квартиры
был от 101-го до 105-ти,
то теперь новый — от 70-ти до 150-ти.
В чём разница?
Первый доверительный
интервал — это доверительный
интервал для среднестатистической
квартиры в Москве,
некоторой мифической среднестатистической,
а когда мы выбираем конкретную квартиру
с данными характеристиками (площадь 60
в кирпичном доме), то, естественно,
она может оказаться как
дороже среднестатистической,
так и дешевле среднестатистической,
и поэтому неопределённость при
прогнозировании цены конкретной квартиры
— она выше, и поэтому предиктивный
интервал уже выходит довольно широким:
от 70-ти тысяч до 150-ти тысяч.
Вот она разница между
прогнозным интервалом и
доверительным интервалом для
средней стоимости квартиры.

