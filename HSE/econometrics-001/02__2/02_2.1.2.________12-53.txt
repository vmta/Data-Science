Для того чтобы лучше
понять концепцию условного математического
ожидания, разберём простой пример.
Давайте ещё раз подчеркнём,
что s и r — это у нас случайные величины.
Мы разберём для начала скалярный пример.
Соответственно, математическое
ожидание от s — это константа,
математическое ожидание
от r — это константа,
а математическое ожидание от s при
условии r — это случайная величина.
Ну и давайте посчитаем
её на простом примере.
Но прежде всего надо понимать,
к какой категории относится объект,
который мы считаем.
s и r — это случайные величины,
E(s|r) — это тоже случайная величина.
Поехали.
Зададим совместное
распределение пары s и r.
К примеру, r принимает значения 1 и 2,
а s принимает значения 0 и 10.
Всего возможно четыре варианта,
и вероятности каждого из четырёх
вариантов занесены в табличку: 0,25,
0,25, 0,2 и 0,3.
Естественно, сумма всех вероятностей
равна единице: 0,25, 0,25, 0,2, 0,3.
Соответственно, происходит
один из четырёх исходов,
и мы в каждом их четырёх
исходов знаем значение s и r.
И нам нужно найти E(s|r).
Ну и давайте также найдём,
чтобы поупражняться,
E от s-квадрат при известном r.
У нас есть определение условного
математического ожидания,
но оно, к сожалению, неоперационное,
им неудобно работать,
чтобы находить в каждом конкретном
случае условное математическое ожидание.
Поэтому мы воспользуемся
сформулированным результатом,
что E от s при условии r — это такая
случайная величина, которая принимает
значение E от s при условии,
что r = 1, если r = 1,
и E от s при условии r = 2, если r = 2.
Ну были бы другие значения у r,
у нас был бы здесь
продолжен список потенциальных
значений случайной величины E(s|r).
Сначала мы
перезапишем нашу пару случайных
величин в таблицу другого вида.
Мы в строчку расположим все
возможные исходы и их вероятности.
Значит, у нас случайная величина
s принимает значения...
Какие у нас возможны сочетания?
s может быть равняться 0,
а r может равняться 1,
s может равняться 0, а r может
равняться 2, s может равняться 10,
а r может равняться 1 и s может
равняться 10, а r может равняться 2.
И вероятности каждого из
этих четырёх исходов: 0,
1 происходит с вероятностью 0,25; 0,
2 происходит с вероятностью 0,2; 10,
1 происходит с вероятностью 0,25; и 10,
2 происходит с вероятностью 0,3.
Вот мы записали это в такую табличку.
Давайте сначала первым шагом,
соответственно,
посчитаем E от s при условии,
что r равно единичке.
То есть что происходит?
Мы знаем, что r оказалось равно единичке.
Но если мы знаем, что r равно единичке,
то у нас появляются так
называемые условные вероятности.
Вот это — это безусловные вероятности,
до наличия какой-либо информации
о результатах эксперимента.
А если я знаю, что выпал случай r,
равной единице,
то вероятности каждого из этих
четырёх исходов меняются.
То есть у меня появятся
условные вероятности,
вероятности тех же самых четырёх исходов
при условии, что r равно единичке.
Но если r равно единичке, то, естественно,
вероятность того, что r равно двум,
равна нулю.
Эти два варианта автоматом исключаются
информацией о том, что r равно единичке.
Ну а дальше нам надо расставить
тут числа так, чтобы, конечно,
сумма у них равнялась одному,
— сумма вероятностей должна давать один,
вот эта строчка с вероятностями
и эта строчка с вероятностями,
— а с другой стороны,
пропорции старые должны сохраниться.
Ну, соответственно, нам надо написать
два числа, которые в сумме дают один,
а пропорции такие же: 0,25, 0,25.
Ну эти два числа,
как можно догадаться, это 0,5 и 0,5.
Ну более формально можно сказать,
что я 0,25
делю на сумму этих чисел, на 0,25 + 0,25.
Вот я получил условные вероятности.
Ну и, соответственно, теперь я считаю
обычно и условные матожидания.
Вот это условное матожидание,
где здесь находится событие,
вот это будет константа,
и она будет равна.
Значение s, здесь значение s 0 *0,5,
+ 10 * 0,5 = 5.
Отлично, почти половина работы сделана.
И теперь находим E от s при условии,
что r равно двум.
Поступаем точно так же.
Сюда в табличку записываем
новые условные вероятности,
вероятности при условии, что r = 2.
Если мы знаем, что r = 2,
то это означает, что исход r,
равный единице, точно не произошёл,
здесь вероятности должны равняться нулю.
А дальше нам надо написать вероятности
так, чтобы сумма равнялась единице,
а пропорция сохранилась.
Ну тут отношение два к трём, это числа
2/5 и 3/5, тогда в сумме будет один.
Ну если формально считать,
то как я вот здесь нахожу число?
Это 0,2 делить на их сумму 0,2 + 0,3.
Это, соответственно, 2/5.
Значит, здесь получается 2/5,
здесь получается 3/5.
Соответственно, эти два
числа в сумме дают один,
однако сохраняют пропорцию меж тем,
что могло произойти.
И математическое ожидание от s стало быть
равняется: 0 * 2/5 +
10 * 3/5 И,
получается, равняется шести.
И теперь мы можем записать
наш итоговый результат.
E от s при условии r равняется 5,
если r равняется 1.
И 6, если r равняется 2.
Вот мы получили условное
математическое ожидание.
Это случайная величина.
Почему?
Потому что r случайна, соответственно,
когда выпадает r и мы узнаём r, то мы
можем посчитать E от s при условии r.
И в зависимости от r оно
примет своё значение.
Ну вместо такой длинной записи
списком значений «если»,
можно поступить несколько компактнее.
Давайте заметим, что наша случайная
величина r принимает всего два значения.
И мы отложим здесь вот r, а здесь отложим
E от s, по вертикали, при условии r.
Значит, если r = 1,
то 5, а если r = 2, то 6.
И вместо
вот этого длинного условия можно взять
абсолютно любую функцию: линейную,
нелинейную, которая бы
проходила через эти точки.
Ну самая простая функция, которая проходит
через две точки, это, конечно же,
линейная, хотя можно было бы взять
какой-нибудь квадрат вот так провести.
Но мы возьмём самую простую, линейную.
Уравнение этой прямой,
которая бы проходила через (1, 5) и (2,
6), наклон у неё должен быть единичный,
за единичку, — она прошла по
вертикали единичку, а в точке ноль она,
соответственно, должна равняться четырём.
Ну ещё единичку отступим, значит,
еще единичку от пяти надо убрать.
И получится,
что эту пару точек можно записать
ещё проще: E(s|r) = 4
коэффициент пересечения с
вертикальной осью, + r.
Соответственно, вот эта простая
формула — она на самом деле подменяет
собой вот это длинное условие.
Ну, действительно, если r = 1,
получится 5, если r = 2, получится 6.
И вот в такой постановке
совершенно уже понятно,
что E(s|r) — это функция от r,
да, давайте обратим внимание,
это функция от r, и кроме того это
действительно случайная величина.
Точно таким же образом можно посчитать
E от s-квадрат при условии r.
Что поменяется в наших вычислениях,
если мы попробуем посчитать математическое
ожидание s-квадрат при известном r?
Ну, собственно, надо добавить
строчку с s-квадратом в табличку.
Если s принимает значения 0,
0, 10, 10, то s-квадрат,
естественно, принимает значения 0,
0, 100, 100.
Условные вероятности никоим
образом не поменяются.
Поменяются только вот эти вот
условные математические ожидания
при конкретных значениях r.
E от s-квадрат при условии r равно
единичке будет в 10 раз больше.
Тут будет 0, тут будет 100.
Будет, стало быть, 50.
E от s-квадрат при условии r равно двоечке
тоже увеличится в 10 раз, будет 60.
Ну и, соответственно, мы получим,
что всё просто увеличилось в 10 раз.
И в данном конкретном случае,
это, конечно, не всегда так,
но в данном конкретном случае E от
s-квадрат при условии r — это не что иное,
как 40 плюс 10 помножить на r.
Это тоже случайная величина,
которая зависит от r.
И в качестве маленького наблюдения
можно заметить такой любопытный факт.
Если я посчитаю математическое
ожидание от (4 + r),
я получу 4 плюс
математическое ожидание от r.
Это будет 4 плюс...
Математическое ожидание
от r у нас выходит: 1
* 0,5,
+ 2 * 0,5,
ну поскольку r равновероятно
принимает значения 1 и 2.
И, стало быть,
это будет 4 + 1,5 это будет 5,5.
А с другой стороны,
если я возьму математическое
ожидание от s,
то математическое ожидание
от s равняется...
s принимает значение либо 0, либо 10.
Ноль, вероятность нуля 0,45.
Вероятность десятки 0,55.
И получится тоже 5,5.
Таким образом, мы на примере
проиллюстрировали такое важное свойство
условного математического ожидания,
а именно:
если s с тильдочкой — это
условное математическое
ожидание при известном r,
ну в нашем случае s с тильдочкой мы нашли,
что это просто 4 + r,
— то оказывается, что математическое
ожидание от s с тильдой равняется
математическому ожиданию от s.
И так будет всегда, это не просто
случайное совпадение в данном примере.

