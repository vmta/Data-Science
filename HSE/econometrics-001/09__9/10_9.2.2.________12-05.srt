1
00:00:12,790 --> 00:00:20,330
Теперь перейдем к анализу
темы «Эндогенность».

2
00:00:20,330 --> 00:00:25,580
Давайте рассмотрим пример данных.

3
00:00:25,580 --> 00:00:30,060
Мы рассмотрим набор данных,
встроенный в R.

4
00:00:30,060 --> 00:00:37,290
Это набор данных, описанный у Стока и
Ватсона, по потреблению сигарет в Америке.

5
00:00:37,290 --> 00:00:41,520
Соответственно, набор данных
можно активировать командой data

6
00:00:41,520 --> 00:00:46,100
("CigarettesSw").

7
00:00:46,100 --> 00:00:52,620
Для удобства, чтобы не писать все
время такое длинное название,

8
00:00:52,620 --> 00:00:57,494
мы его поместим в набор данных h,
скопируем его туда.

9
00:00:57,494 --> 00:01:02,671
Почитать документацию можно по этому
набору данных, соответственно,

10
00:01:02,671 --> 00:01:08,532
набрав help ("CigarettesSw"), и увидеть,
что это набор данных по разным штатам.

11
00:01:08,532 --> 00:01:14,455
Здесь год, индекс потребительских цен,
население штата, соответственно,

12
00:01:14,455 --> 00:01:19,944
потребление сигарет в пачках на
душу населения и так далее, доход,

13
00:01:19,944 --> 00:01:26,400
налоги, цена.

14
00:01:26,400 --> 00:01:30,154
Во-первых, мы перейдем к
относительным ценам, потому что,

15
00:01:30,154 --> 00:01:33,500
с точки зрения потребителя,
когда он формирует спрос,

16
00:01:33,500 --> 00:01:39,370
ему важнее именно относительные цены
сигарет, ему важен его относительный

17
00:01:39,370 --> 00:01:44,069
доход — не совокупный доход всех индивидов
штата, а, соответственно, его доход.

18
00:01:44,069 --> 00:01:48,686
Поэтому нам, конечно, надо сначала
немножко изменить наш набор данных h.

19
00:01:48,686 --> 00:01:53,096
Поэтому мы создадим набор данных
h2 и создадим мы его следующим

20
00:01:53,096 --> 00:01:56,100
образом: мы используем команду mutate.

21
00:01:56,100 --> 00:02:02,132
Соответственно, мы введем относительные
цены (relative price) — это будет цена,

22
00:02:02,132 --> 00:02:09,954
деленная на cpi (индекс потребительских
цен); relative income — соответственно,

23
00:02:09,954 --> 00:02:14,914
нам надо тоже income поделить на cpi,
но помимо деления дохода на индекс

24
00:02:14,914 --> 00:02:19,871
потребительских цен, перехода в
универсальные единицы измерения,

25
00:02:19,871 --> 00:02:23,284
надо еще поделить на
численность населения.

26
00:02:23,284 --> 00:02:27,987
Она у нас обозначена
переменной population.

27
00:02:27,987 --> 00:02:32,070
И точно так же еще нам потребуется

28
00:02:32,070 --> 00:02:36,983
переменная tax,

29
00:02:36,983 --> 00:02:40,930
деленная на...

30
00:02:40,930 --> 00:02:45,470
ну, давайте назовем rtax (реальный налог),
это,

31
00:02:45,470 --> 00:02:49,003
соответственно, будет tax,
деленное на cpi.

32
00:02:49,003 --> 00:02:52,974
И чтобы это все влезало в одну строчку,

33
00:02:52,974 --> 00:02:59,080
раз не влезает, разобьем на две.

34
00:02:59,080 --> 00:03:06,842
И для начала мы построим модель
методом наименьших квадратов.

35
00:03:06,842 --> 00:03:10,406
То есть как бы я оценивал регрессию
методом наименьших квадратов?

36
00:03:10,406 --> 00:03:12,578
Я бы построил model_0.

37
00:03:12,578 --> 00:03:15,940
Это была бы линейная модель.

38
00:03:15,940 --> 00:03:21,112
Я бы данные взял из набора данных h2,
оценил

39
00:03:21,112 --> 00:03:26,754
бы зависимость логарифма

40
00:03:26,754 --> 00:03:31,875
относительно логарифма
потребления log(packs),

41
00:03:31,875 --> 00:03:36,210
ну, скажем, совсем простую модель
от логарифма относительной цены.

42
00:03:36,210 --> 00:03:38,488
Здесь еще один маленький нюанс.

43
00:03:38,488 --> 00:03:41,090
Здесь содержатся данные за два года.

44
00:03:41,090 --> 00:03:44,749
Чтобы не возиться с разделением двух лет,

45
00:03:44,749 --> 00:03:49,500
давайте мы еще предварительно
отберем данные.

46
00:03:49,500 --> 00:03:53,210
Возьмем создадим набор данных h3.

47
00:03:53,210 --> 00:04:00,441
Мы, соответственно, отберем из набора
данных h2 данные, которые относятся к...

48
00:04:00,441 --> 00:04:05,423
давайте более свежий год,
1995, и, соответственно,

49
00:04:05,423 --> 00:04:10,360
model_0 оценим по набору данных h3,
где только 1995 год.

50
00:04:10,360 --> 00:04:13,470
Соответственно, оценили model_0.

51
00:04:13,470 --> 00:04:16,968
Ну, получили какие-то результаты.

52
00:04:16,968 --> 00:04:19,830
Тут все коэффициенты значимы.

53
00:04:19,830 --> 00:04:22,960
В чем проблема с этой моделью?

54
00:04:22,960 --> 00:04:27,785
Зачем меня, на самом деле,
может интересовать зависимость,

55
00:04:27,785 --> 00:04:33,347
как зависит спрос на сигареты от цен,
ну пусть там относительных и так далее?

56
00:04:33,347 --> 00:04:37,369
Он меня может интересовать с точки
зрения государственной политики.

57
00:04:37,369 --> 00:04:40,601
То есть вопрос: а вот если
я введу какие-то меры,

58
00:04:40,601 --> 00:04:45,900
чтобы уменьшить потребление сигарет,
если я введу какие-то меры,

59
00:04:45,900 --> 00:04:50,970
то как ценовые меры, вводимые
государством, повлияют на потребление?

60
00:04:50,970 --> 00:04:54,589
И тут надо понимать,
что когда я оценил эту модель,

61
00:04:54,589 --> 00:04:57,623
метод наименьших квадратов предполагал,

62
00:04:57,623 --> 00:05:02,729
что регрессор некоррелирован с
ненаблюдаемой случайной составляющей,

63
00:05:02,729 --> 00:05:07,348
то есть здесь как бы вот
при изменении цены на 1 %

64
00:05:07,348 --> 00:05:11,610
относительной (relative price),

65
00:05:11,610 --> 00:05:17,095
соответственно, спрос падает на (- 1,2 %).

66
00:05:17,095 --> 00:05:18,520
Но здесь учтены все факторы,

67
00:05:18,520 --> 00:05:22,580
то есть relative price тянет за собой
какие-то другие экономические показатели.

68
00:05:22,580 --> 00:05:25,665
А меня может интересовать
вопрос: а что произойдет,

69
00:05:25,665 --> 00:05:28,617
если я только relative
price изменю политикой,

70
00:05:28,617 --> 00:05:33,030
а все остальные экономические
показатели при этом не изменятся?

71
00:05:33,030 --> 00:05:39,020
Поэтому меня может
интересовать другая модель,

72
00:05:39,020 --> 00:05:43,960
а именно — давайте попробуем применить
двухшаговый метод наименьших квадратов,

73
00:05:43,960 --> 00:05:49,770
two stage OLS.

74
00:05:49,770 --> 00:05:53,016
Значит, мы применим двухшаговый
метод наименьших квадратов.

75
00:05:53,016 --> 00:05:54,970
Сначала мы его сделаем просто руками.

76
00:05:54,970 --> 00:06:00,142
Давайте подумаем,
какая переменная может быть

77
00:06:00,142 --> 00:06:05,734
связана с ценой, но при этом
напрямую не связана со спросом?

78
00:06:05,734 --> 00:06:10,030
То есть, с точки зрения индивида,
она на спрос влиять не должна,

79
00:06:10,030 --> 00:06:12,235
а на цену влиять должна.

80
00:06:12,235 --> 00:06:16,101
И такая переменная — это,
конечно, акцизные сборы.

81
00:06:16,101 --> 00:06:19,758
Потому что чем выше акцизные сборы,
тем, естественно,

82
00:06:19,758 --> 00:06:22,066
цена на товар должна быть выше.

83
00:06:22,066 --> 00:06:27,403
Но при заданной цене на товар потребителю
все равно, по-хорошему, как цена,

84
00:06:27,403 --> 00:06:34,060
которую он платит, распределяется
между продавцом и государством.

85
00:06:34,060 --> 00:06:38,637
То есть при потреблении индивид учитывает
цену, а, на самом деле, как она делится,

86
00:06:38,637 --> 00:06:39,590
ему уже не важно.

87
00:06:39,590 --> 00:06:44,664
Поэтому разумно ожидать — это никак
нельзя доказать — ну, по крайней мере,

88
00:06:44,664 --> 00:06:50,650
разумно ожидать, что налоги могут быть
хорошей инструментальной переменной.

89
00:06:50,650 --> 00:06:54,531
Ну, соответственно,
давайте мы попробуем осуществить руками...

90
00:06:54,531 --> 00:06:56,184
Вот у нас тут два вида налогов.

91
00:06:56,184 --> 00:07:01,985
Ну, у нас вот есть, соответственно, вот,

92
00:07:01,985 --> 00:07:07,510
средний tax, который мы отнормировали
на cpi — это, соответственно,

93
00:07:07,510 --> 00:07:12,880
средний акцизный сбор вот по
данному штату для данного года.

94
00:07:12,880 --> 00:07:17,120
Ну, соответственно,
мы устраиваем регрессию первого шага.

95
00:07:17,120 --> 00:07:22,080
В регрессии первого шага
мы по набору данных h3

96
00:07:22,080 --> 00:07:27,040
строим регрессию логарифма цены,

97
00:07:27,040 --> 00:07:31,568
соответственно, на нашу переменную

98
00:07:31,568 --> 00:07:36,090
логарифм налогового...

99
00:07:36,090 --> 00:07:40,543
на, соответственно...

100
00:07:40,543 --> 00:07:47,080
ну, давайте просто на сам
относительный налоговый сбор,

101
00:07:47,080 --> 00:07:51,740
логарифм (rprice) на налоговый сбор.

102
00:07:51,740 --> 00:07:56,790
Это мы оценили регрессию первого шага.

103
00:07:56,790 --> 00:08:03,073
После этого в набор данных h3
мы добавляем новую переменную.

104
00:08:03,073 --> 00:08:09,230
Ну, давайте назовем ее log_price_hat.

105
00:08:09,230 --> 00:08:15,140
Это, соответственно, прогнозные значения,
полученные на первом шаге.

106
00:08:15,140 --> 00:08:19,730
И теперь начинается второй шаг.

107
00:08:19,730 --> 00:08:25,050
Это был, соответственно, шаг один (st_1),

108
00:08:25,050 --> 00:08:29,590
и теперь начинается второй шаг

109
00:08:29,590 --> 00:08:34,130
двухшагового метода наименьших квадратов
или метода инструментальных переменных.

110
00:08:34,130 --> 00:08:39,201
Мы берем тот же самый
набор данных h3 и на этот

111
00:08:39,201 --> 00:08:44,139
раз строим регрессию
логарифма потребления от

112
00:08:44,139 --> 00:08:49,164
спрогнозированного логарифма цены,

113
00:08:49,164 --> 00:08:53,950
от оценки, полученной на первом шаге.

114
00:08:53,950 --> 00:08:58,170
И мы уже получаем другую модель.

115
00:08:58,170 --> 00:09:01,250
Давайте посмотрим на summary.

116
00:09:01,250 --> 00:09:05,280
Здесь у нас уже другие
коэффициенты немножко.

117
00:09:05,280 --> 00:09:11,927
И, соответственно, вот этот коэффициент,
его можно интерпретировать как причинный.

118
00:09:11,927 --> 00:09:16,691
То есть если я увеличу
цену сознательно на 1 %,

119
00:09:16,691 --> 00:09:22,034
то можно ожидать,
что потребление упадет на (- 1,5 %).

120
00:09:22,034 --> 00:09:26,010
То есть я считаю, что остальные факторы,
которые я в модель не включаю,

121
00:09:26,010 --> 00:09:27,348
я не трогаю.

122
00:09:27,348 --> 00:09:32,506
Естественно, в R метод двухшаговый
наименьших квадратов уже

123
00:09:32,506 --> 00:09:37,221
реализован автоматически — руками делать
его можно только в учебных целях, поэтому

124
00:09:37,221 --> 00:09:44,630
мы можем просто воспользоваться командой
ivreg (instrumental variable regression).

125
00:09:44,630 --> 00:09:47,356
Соответственно, здесь нам
надо точно так же указать,

126
00:09:47,356 --> 00:09:52,657
что данные мы берем из набора данных h3,
и модель, которую мы оцениваем,

127
00:09:52,657 --> 00:09:58,847
это логарифм спроса от
логарифма относительной

128
00:09:58,847 --> 00:10:03,170
цены (relative price).

129
00:10:03,170 --> 00:10:07,500
И через вертикальную палочку надо
указать инструментальную переменную.

130
00:10:07,500 --> 00:10:13,040
В нашем случае инструментальной
переменной будет переменная relative tax.

131
00:10:13,040 --> 00:10:18,669
И, соответственно,
мы можем в одну команду сделать

132
00:10:18,669 --> 00:10:24,148
сразу две регрессии и получить,
соответственно,

133
00:10:24,148 --> 00:10:29,150
отчет по модели, оцененной методом
инструментальных переменных.

134
00:10:29,150 --> 00:10:34,380
И можно, в принципе, еще для удобства
посмотреть на все три модели сразу.

135
00:10:34,380 --> 00:10:42,010
Давайте model_0, которая оценивалась
обычным методом наименьших квадратов,

136
00:10:42,010 --> 00:10:49,409
модель со второго шага возьмем и
модель инструментальных переменных.

137
00:10:49,409 --> 00:10:52,100
Создадим из них одну табличку.

138
00:10:52,100 --> 00:10:58,186
И вот здесь становится видно,
что в двухшаговой

139
00:10:58,186 --> 00:11:03,894
модели на втором шаге от коэффициента
сами коэффициенты совпадают,

140
00:11:03,894 --> 00:11:09,750
вот: 10,039 — 10,039;
(- 1,150) — (- 1,150).

141
00:11:09,750 --> 00:11:14,337
Они отличаются от коэффициентов,
получаемых методом наименьших квадратов.

142
00:11:14,337 --> 00:11:19,395
И более того, надо сказать, что руками
вот так делать еще неудобно по следующей

143
00:11:19,395 --> 00:11:24,336
причине: стандартные ошибки, которые
считает метод наименьших квадратов на

144
00:11:24,336 --> 00:11:27,517
втором шаге, это не те стандартные ошибки,
которые, на самом деле,

145
00:11:27,517 --> 00:11:32,471
состоятельны для метода
инструментальных переменных,

146
00:11:32,471 --> 00:11:36,310
а команда ivreg,
с помощью которой была получена модель,

147
00:11:36,310 --> 00:11:41,773
описываемая в третьем столбике, здесь
стандартные ошибки расчитаны корректным,

148
00:11:41,773 --> 00:11:45,938
правильным для двухшагового метода
наименьших квадратов способом.

149
00:11:45,938 --> 00:11:50,104
Соответственно, вот мы видим,
мы можем проинтерпретировать наши выводы,

150
00:11:50,104 --> 00:11:55,210
что при увеличении цены,
если мы сознательно увеличим цену на 1 %,

151
00:11:55,210 --> 00:12:01,540
то, поскольку у нас модель в логарифмах,
у нас, соответственно спрос упадет на (-

152
00:12:01,540 --> 00:12:06,760
1,15 %)

